<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Talimatlar</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        :root {
            --background-color: #ffffff;
            --text-color: #111827;
            --button-color: #22c55e;
            --button-text-color: #ffffff;
            --step-border-color: #d1d5db;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100dvh;
            margin: 0;
            padding: 25px;
            box-sizing: border-box;
            overflow: hidden;
        }
        
        body.rtl { direction: rtl; }

        .popup-container {
            width: 100%;
            max-width: 400px;
            text-align: left;
        }
        
        body.rtl .popup-container { text-align: right; }

        h1 {
            font-size: 24px;
            font-weight: 700;
            margin: 0 0 30px 0;
        }

        .steps {
            list-style-type: none;
            padding: 0;
            margin: 0;
            counter-reset: steps-counter;
        }

        .steps li {
            display: flex;
            align-items: center;
            font-size: 16px;
            margin-bottom: 25px;
        }

        .steps li::before {
            counter-increment: steps-counter;
            content: counter(steps-counter);
            display: flex;
            justify-content: center;
            align-items: center;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 2px solid var(--step-border-color);
            font-weight: 700;
            font-size: 14px;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        body.rtl .steps li::before {
            margin-right: 0;
            margin-left: 15px;
        }
        
        #redirect-button {
            display: block;
            width: 100%;
            text-align: center;
            background-color: var(--button-color);
            color: var(--button-text-color);
            padding: 15px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            transition: opacity 0.2s;
        }

        #redirect-button:hover {
            opacity: 0.9;
        }
    </style>
</head>
<body>

    <div class="popup-container">
        <h1 data-key="main_title"></h1>
        <ol class="steps">
            <li data-key="step1"></li>
            <!-- Buton artık ikinci adım olarak gösterilecek -->
            <li>
                <a href="#" id="redirect-button" data-key="step2_button"></a>
            </li>
        </ol>
    </div>

    <script>
        (function() {
            // DİL ÇEVİRİLERİ
            const translations = {
                'tr': { main_title: 'Mağazaya gitmek için:', step1: 'Önce sağ üstteki <strong>•••</strong> menüden <strong>"Tarayıcıda Aç"</strong> seçeneğine dokunun.', step2_button: 'Mağazaya Git' },
                'en': { main_title: 'To go to the store:', step1: 'First, tap <strong>•••</strong> in the top right and select <strong>"Open in Browser"</strong>.', step2_button: 'Go to Store' },
                'es': { main_title: 'Para ir a la tienda:', step1: 'Primero, pulsa <strong>•••</strong> arriba a la derecha y selecciona <strong>"Abrir en el navegador"</strong>.', step2_button: 'Ir a la Tienda' },
                'de': { main_title: 'So gelangen Sie zum Store:', step1: 'Tippe zuerst oben rechts auf <strong>•••</strong> und wähle <strong>„Im Browser öffnen“</strong>.', step2_button: 'Zum Store' },
                'fr': { main_title: 'Pour aller à la boutique :', step1: 'Appuyez d\'abord sur <strong>•••</strong> en haut à droite et sélectionnez <strong>"Ouvrir dans le navigateur"</strong>.', step2_button: 'Aller à la Boutique' }
                // Diğer diller de buraya eklenebilir.
            };

            const userLang = navigator.language.slice(0, 2);
            const lang = translations[userLang] || translations['tr'];
            if (userLang === 'ar') document.body.classList.add('rtl'); // Arapça için sağdan sola hizalama
            
            document.querySelectorAll('[data-key]').forEach(elem => {
                elem.innerHTML = lang[elem.dataset.key];
            });

            // YÖNLENDİRME BUTONU İÇİN OLAY DİNLEYİCİSİ
            document.getElementById('redirect-button').addEventListener('click', function(event) {
                // Linkin varsayılan davranışını engelle
                event.preventDefault();

                const iosUrl = 'https://apps.apple.com/tr/app/baby-gender-predictor-nubula/id6747091551';
                const androidUrl = 'https://play.google.com/store/apps/details?id=com.sozensoftware.nubula';
                const userAgent = navigator.userAgent || navigator.vendor || window.opera;
                let targetUrl = androidUrl;

                if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                    targetUrl = iosUrl;
                }
                
                // Yönlendirme işlemini yap
                window.location.href = targetUrl;
            });

        })();
    </script>
</body>
</html>
